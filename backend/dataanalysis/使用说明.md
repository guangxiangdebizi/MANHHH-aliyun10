# MANHHH é¡¹ç›®æ•°æ®åˆ†æç³»ç»Ÿ

## ğŸ“Š ç³»ç»Ÿæ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªå®Œæ•´çš„æ•°æ®åˆ†æç³»ç»Ÿï¼Œç”¨äºåˆ†æ MANHHH é¡¹ç›®çš„è¿è¥æ•°æ®ï¼ŒåŒ…å«ï¼š

- âœ… ç”¨æˆ·ç»Ÿè®¡åˆ†æï¼ˆæ€»æ•°ã€æ–°å¢ã€æ´»è·ƒåº¦ã€ç§¯åˆ†ç­‰ï¼‰
- âœ… ä¼šè¯ä¸å¯¹è¯åˆ†æï¼ˆæ¶ˆæ¯æ•°ã€æ´»è·ƒåº¦è¶‹åŠ¿ï¼‰
- âœ… å·¥å…·è°ƒç”¨ç»Ÿè®¡ï¼ˆæœ€å¸¸ç”¨çš„å·¥å…·æ’åï¼‰
- âœ… ç”¨æˆ·æé—®è¯äº‘ï¼ˆå¯è§†åŒ–é«˜é¢‘å…³é”®è¯ï¼‰
- âœ… ç¾è§‚çš„ HTML å¯è§†åŒ–æŠ¥å‘Š
- âœ… å®Œæ•´çš„æ•°æ®å¯¼å‡ºï¼ˆJSONæ ¼å¼ï¼‰
- âœ… ä¸­æ–‡æ”¯æŒï¼ˆè‡ªåŠ¨ä¸‹è½½ä¸­æ–‡å­—ä½“ï¼‰

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹å¼ä¸€ï¼šä¸€é”®è¿è¡Œï¼ˆæ¨èï¼‰

```bash
cd /home/ec2-user/AIWebHere/MANHHH-aliyun10/backend/dataanalysis
./run_analysis.sh
```

è¿™ä¼šè‡ªåŠ¨å®Œæˆï¼š
1. æ•°æ®åˆ†æ
2. ç”Ÿæˆå›¾è¡¨
3. åˆ›å»º HTML æŠ¥å‘Š
4. æ‰“åŒ…æ‰€æœ‰ç»“æœ

### æ–¹å¼äºŒï¼šåˆ†æ­¥è¿è¡Œ

```bash
# 1. æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
cd /home/ec2-user/AIWebHere/MANHHH-aliyun10
source venv/bin/activate

# 2. è¿›å…¥åˆ†æç›®å½•
cd backend/dataanalysis

# 3. è¿è¡Œåˆ†æ
python analyze.py

# 4. ç”Ÿæˆ HTML æŠ¥å‘Š
python generate_html_report.py

# 5. æ‰“åŒ…ç»“æœï¼ˆå¯é€‰ï¼‰
./package_results.sh
```

## ğŸ“¦ ç”Ÿæˆçš„æ–‡ä»¶

æ‰€æœ‰åˆ†æç»“æœä¿å­˜åœ¨ `output/` ç›®å½•ï¼š

| æ–‡ä»¶å | è¯´æ˜ | å¤§å° |
|--------|------|------|
| `analysis_report.txt` | çº¯æ–‡æœ¬æŠ¥å‘Š | ~1KB |
| `analysis_report.html` | HTMLå¯è§†åŒ–æŠ¥å‘Š â­ | ~12KB |
| `analysis_data.json` | åŸå§‹æ•°æ®ï¼ˆå¯ç”¨äºäºŒæ¬¡åˆ†æï¼‰ | ~1KB |
| `questions_wordcloud.png` | ç”¨æˆ·æé—®è¯äº‘ | ~3.2MB |
| `user_growth.png` | ç”¨æˆ·å¢é•¿è¶‹åŠ¿å›¾ | ~258KB |
| `chat_activity.png` | èŠå¤©æ´»è·ƒåº¦å›¾ | ~97KB |
| `tool_usage.png` | å·¥å…·ä½¿ç”¨ç»Ÿè®¡å›¾ | ~63KB |
| `MANHHH_åˆ†ææŠ¥å‘Š_[æ—¶é—´æˆ³].zip` | æ‰“åŒ…ä¸‹è½½æ–‡ä»¶ | ~3.4MB |

## ğŸ“ˆ å½“å‰æ•°æ®æ¦‚è§ˆ

æ ¹æ®æœ€æ–°åˆ†æï¼ˆ2025-11-15ï¼‰ï¼š

### ğŸ‘¥ ç”¨æˆ·æ•°æ®
- **æ€»ç”¨æˆ·æ•°**: 414
- **æœ‰é‚®ç®±ç”¨æˆ·**: 414
- **é…ç½® Tushare Token**: 10 äºº
- **å¯ç”¨ Tushare Token**: 1 äºº
- **æœ€è¿‘30å¤©æ–°å¢**: 79 äºº
- **å¹³å‡ç§¯åˆ†**: 48.15
- **æœ€é«˜ç§¯åˆ†**: 975

### ğŸ’¬ èŠå¤©æ•°æ®
- **æ€»ä¼šè¯æ•°**: 1,343
- **æ€»å¯¹è¯æ•°**: 1,747
- **æ€»æ¶ˆæ¯æ•°**: 2,341
- **äººå‡æ¶ˆæ¯æ•°**: 4.75
- **æœ€è¿‘30å¤©æ¶ˆæ¯**: 374

### ğŸ† æœ€æ´»è·ƒç”¨æˆ· TOP 5
1. **gg** - 61 æ¡æ¶ˆæ¯
2. **jigme** - 42 æ¡æ¶ˆæ¯
3. **boonhangtai** - 29 æ¡æ¶ˆæ¯
4. **ugd26mf1g6** - 28 æ¡æ¶ˆæ¯
5. **kkcldc** - 25 æ¡æ¶ˆæ¯

## ğŸŒ æŸ¥çœ‹ HTML æŠ¥å‘Š

HTML æŠ¥å‘ŠåŒ…å«å®Œæ•´çš„å¯è§†åŒ–ç•Œé¢ï¼Œæ¨èä½¿ç”¨æµè§ˆå™¨æ‰“å¼€ï¼š

```bash
# åœ¨æœåŠ¡å™¨ä¸Š
cd /home/ec2-user/AIWebHere/MANHHH-aliyun10/backend/dataanalysis/output
firefox analysis_report.html  # æˆ–å…¶ä»–æµè§ˆå™¨

# æˆ–ä¸‹è½½åˆ°æœ¬åœ°
scp ec2-user@your-server:/home/ec2-user/AIWebHere/MANHHH-aliyun10/backend/dataanalysis/output/analysis_report.html .
```

HTML æŠ¥å‘Šç‰¹ç‚¹ï¼š
- ğŸ“± å“åº”å¼è®¾è®¡ï¼Œæ”¯æŒæ‰‹æœº/å¹³æ¿/ç”µè„‘
- ğŸ¨ æ¸å˜è‰²å½©ï¼Œè§†è§‰æ•ˆæœå‡ºè‰²
- ğŸ“Š å›¾è¡¨è‡ªåŠ¨åµŒå…¥ï¼Œæ— éœ€é¢å¤–æ–‡ä»¶
- ğŸ’« åŠ¨ç”»æ•ˆæœï¼Œäº¤äº’ä½“éªŒå¥½

## ğŸ“¥ ä¸‹è½½åˆ†æç»“æœ

ä½¿ç”¨æ‰“åŒ…å¥½çš„ ZIP æ–‡ä»¶ï¼š

```bash
# æŸ¥æ‰¾æœ€æ–°çš„æ‰“åŒ…æ–‡ä»¶
ls -lth /home/ec2-user/AIWebHere/MANHHH-aliyun10/backend/dataanalysis/*.zip | head -1

# ä¸‹è½½åˆ°æœ¬åœ°
scp ec2-user@your-server:/home/ec2-user/AIWebHere/MANHHH-aliyun10/backend/dataanalysis/MANHHH_åˆ†ææŠ¥å‘Š_*.zip .
```

## ğŸ”„ å®šæ—¶åˆ†æ

å¦‚éœ€å®šæœŸç”ŸæˆæŠ¥å‘Šï¼Œå¯ä»¥è®¾ç½® cron ä»»åŠ¡ï¼š

```bash
# ç¼–è¾‘ crontab
crontab -e

# æ·»åŠ å®šæ—¶ä»»åŠ¡ï¼ˆæ¯å¤©å‡Œæ™¨2ç‚¹è¿è¡Œï¼‰
0 2 * * * /home/ec2-user/AIWebHere/MANHHH-aliyun10/backend/dataanalysis/run_analysis.sh >> /home/ec2-user/analysis.log 2>&1
```

## ğŸ¨ è‡ªå®šä¹‰åˆ†æ

### ä¿®æ”¹è¯äº‘åœç”¨è¯

ç¼–è¾‘ `analyze.py` ç¬¬ 248 è¡Œï¼š

```python
stop_words = set([
    'çš„', 'äº†', 'æ˜¯', 'æˆ‘', 'ä½ ', 'åœ¨', 'æœ‰', 'å’Œ', 'å°±', 'ä¸',
    # æ·»åŠ ä½ çš„åœç”¨è¯...
])
```

### ä¿®æ”¹å›¾è¡¨æ ·å¼

ç¼–è¾‘ `analyze.py` ä¸­çš„ `matplotlib` é…ç½®ï¼š

```python
plt.figure(figsize=(16, 8))  # è°ƒæ•´å¤§å°
plt.colormap('viridis')      # ä¿®æ”¹é¢œè‰²æ–¹æ¡ˆ
```

### æ·»åŠ æ–°çš„ç»Ÿè®¡ç»´åº¦

åœ¨ `analyze.py` ä¸­æ·»åŠ è‡ªå®šä¹‰ SQL æŸ¥è¯¢ï¼š

```python
def get_custom_statistics(conn):
    cursor = conn.cursor()
    cursor.execute("""
        SELECT ... FROM ...
        WHERE ...
    """)
    return cursor.fetchall()
```

## ğŸ› ï¸ ä¾èµ–åŒ…

å·²è‡ªåŠ¨å®‰è£…ä»¥ä¸‹ä¾èµ–ï¼š

- `matplotlib` - å›¾è¡¨ç»˜åˆ¶
- `jieba` - ä¸­æ–‡åˆ†è¯
- `wordcloud` - è¯äº‘ç”Ÿæˆ
- `pandas` - æ•°æ®å¤„ç†
- `numpy` - æ•°å€¼è®¡ç®—

## ğŸ“ æ–‡ä»¶è¯´æ˜

| æ–‡ä»¶ | è¯´æ˜ |
|------|------|
| `analyze.py` | ä¸»åˆ†æè„šæœ¬ï¼ŒåŒ…å«æ‰€æœ‰ç»Ÿè®¡é€»è¾‘ |
| `generate_html_report.py` | HTML æŠ¥å‘Šç”Ÿæˆå™¨ |
| `run_analysis.sh` | ä¸€é”®è¿è¡Œè„šæœ¬ |
| `package_results.sh` | æ‰“åŒ…è„šæœ¬ |
| `README.md` | è¯¦ç»†ä½¿ç”¨æ–‡æ¡£ |
| `SimHei.ttf` | ä¸­æ–‡å­—ä½“ï¼ˆè‡ªåŠ¨ä¸‹è½½ï¼‰ |

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **ä¸­æ–‡å­—ä½“**: è„šæœ¬ä¼šè‡ªåŠ¨ä¸‹è½½æ€æºé»‘ä½“ï¼Œå¦‚å¤±è´¥ä¼šå°è¯•ä½¿ç”¨ç³»ç»Ÿå­—ä½“
2. **æ•°æ®éšç§**: åˆ†æç»“æœä¸åŒ…å«å¯†ç ã€Tokenç­‰æ•æ„Ÿä¿¡æ¯
3. **æ€§èƒ½**: å¤§æ•°æ®é‡æ—¶åˆ†æå¯èƒ½éœ€è¦å‡ åˆ†é’Ÿï¼Œè¯·è€å¿ƒç­‰å¾…
4. **Git**: åˆ†æç»“æœæœªæ·»åŠ åˆ° `.gitignore`ï¼Œå¯ç›´æ¥æäº¤åˆ°ä»£ç ä»“åº“

## ğŸ” æ•…éšœæ’æŸ¥

### é—®é¢˜1: è¯äº‘æ— æ³•æ˜¾ç¤ºä¸­æ–‡

**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ‰‹åŠ¨ä¸‹è½½å­—ä½“
cd /home/ec2-user/AIWebHere/MANHHH-aliyun10/backend/dataanalysis
wget https://github.com/adobe-fonts/source-han-sans/raw/release/OTF/SimplifiedChinese/SourceHanSansSC-Regular.otf -O SimHei.ttf
```

### é—®é¢˜2: æƒé™é”™è¯¯

**è§£å†³æ–¹æ¡ˆ**:
```bash
chmod +x run_analysis.sh package_results.sh
```

### é—®é¢˜3: ä¾èµ–åŒ…ç¼ºå¤±

**è§£å†³æ–¹æ¡ˆ**:
```bash
source ../../venv/bin/activate
pip install matplotlib jieba wordcloud pandas numpy
```

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æŸ¥çœ‹ï¼š
1. è¿è¡Œæ—¥å¿—ä¸­çš„é”™è¯¯ä¿¡æ¯
2. æ•°æ®åº“è·¯å¾„æ˜¯å¦æ­£ç¡®
3. Python è™šæ‹Ÿç¯å¢ƒæ˜¯å¦æ¿€æ´»

## ğŸ‰ ç¤ºä¾‹è¾“å‡º

```
ğŸš€ å¼€å§‹æ•°æ®åˆ†æ...
ğŸ“Š æ•°æ®åº“è·¯å¾„: /home/ec2-user/AIWebHere/MANHHH-aliyun10/backend/chat_history.db
ğŸ“ è¾“å‡ºç›®å½•: /home/ec2-user/AIWebHere/MANHHH-aliyun10/backend/dataanalysis/output

ğŸ“ˆ åˆ†æç”¨æˆ·ç»Ÿè®¡...
ğŸ’¬ åˆ†æèŠå¤©ç»Ÿè®¡...
ğŸ”§ åˆ†æå·¥å…·ä½¿ç”¨...
â“ æå–ç”¨æˆ·æé—®...
â˜ï¸ ç”Ÿæˆè¯äº‘...
âœ“ è¯äº‘å·²ç”Ÿæˆ: questions_wordcloud.png
ğŸ“Š ç»˜åˆ¶ç»Ÿè®¡å›¾è¡¨...
âœ“ ç”¨æˆ·å¢é•¿å›¾å·²ç”Ÿæˆ: user_growth.png
âœ“ èŠå¤©æ´»è·ƒåº¦å›¾å·²ç”Ÿæˆ: chat_activity.png
âœ“ å·¥å…·ä½¿ç”¨ç»Ÿè®¡å›¾å·²ç”Ÿæˆ: tool_usage.png
ğŸ“ ç”Ÿæˆåˆ†ææŠ¥å‘Š...
ğŸ’¾ ä¿å­˜åŸå§‹æ•°æ®...

============================================================
âœ… æ•°æ®åˆ†æå®Œæˆï¼
ğŸ“ æ‰€æœ‰ç»“æœå·²ä¿å­˜åˆ°: output/
============================================================
```

---

**ç‰ˆæœ¬**: 1.0  
**æ›´æ–°æ—¶é—´**: 2025-11-15  
**ä½œè€…**: MANHHH é¡¹ç›®å›¢é˜Ÿ

